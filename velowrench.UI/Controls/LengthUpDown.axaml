<UserControl x:Class="velowrench.UI.Controls.LengthUpDown"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="using:velowrench.UI.Converters"
             xmlns:units="using:UnitsNet.Units"
             x:Name="LengthUpDownControl">

    <UserControl.Resources>
        <converters:UnitDisplayConverter x:Key="UnitDisplayConverter" />
    </UserControl.Resources>

    <Grid ColumnDefinitions="75*,3*,Auto" RowDefinitions="Auto,Auto">

        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3"
                   Margin="0,10,0,3"
                   Text="{Binding Title, ElementName=LengthUpDownControl}" />

        <NumericUpDown Name="ValueUpDown"
                       Grid.Row="1" Grid.Column="0"
                       FormatString="0.00"
                       Increment="{Binding Increment, ElementName=LengthUpDownControl}"
                       Maximum="{Binding Maximum, ElementName=LengthUpDownControl}"
                       Minimum="{Binding Minimum, ElementName=LengthUpDownControl}"
                       Value="{Binding DisplayValue, ElementName=LengthUpDownControl}" />

        <ComboBox Name="UnitComboBox"
                  Grid.Row="1" Grid.Column="2"
                  HorizontalAlignment="Stretch"
                  ItemsSource="{Binding AvailableUnits, ElementName=LengthUpDownControl}"
                  SelectedItem="{Binding SelectedUnit, ElementName=LengthUpDownControl}">
            <ComboBox.ItemTemplate>
                <DataTemplate DataType="units:LengthUnit">
                    <TextBlock Text="{Binding Converter={StaticResource UnitDisplayConverter}}" />
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>

    </Grid>

</UserControl>