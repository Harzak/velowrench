<UserControl x:Class="velowrench.UI.Controls.LengthTextBlockControl"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="using:velowrench.UI.Converters"
             xmlns:units="using:UnitsNet.Units"
             x:Name="LengthTextBlockControlRoot">

    <UserControl.Resources>
        <converters:UnitDisplayConverter x:Key="UnitDisplayConverter" />
    </UserControl.Resources>

    <Grid ColumnDefinitions="75*,3*,Auto" RowDefinitions="Auto,Auto">

        <TextBlock Name="ValueUpDown"
                   Grid.Row="1" Grid.Column="0"
                   Width="70"
                   Margin="0,0,5,0" VerticalAlignment="Center"
                   FontSize="{Binding TextFontSize, ElementName=LengthTextBlockControlRoot}"
                   Text="{Binding DisplayValue, ElementName=LengthTextBlockControlRoot}" />

        <ComboBox Name="UnitComboBox"
                  Grid.Row="1" Grid.Column="2"
                  Width="80"
                  HorizontalAlignment="Stretch" VerticalAlignment="Center"
                  FontSize="14" FontWeight="Regular"
                  Foreground="{DynamicResource SemiColorText0}"
                  ItemsSource="{Binding AvailableUnits, ElementName=LengthTextBlockControlRoot}"
                  SelectedItem="{Binding SelectedUnit, ElementName=LengthTextBlockControlRoot}">
            <ComboBox.ItemTemplate>
                <DataTemplate DataType="units:LengthUnit">
                    <TextBlock Text="{Binding Converter={StaticResource UnitDisplayConverter}}" />
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>

    </Grid>

</UserControl>
